pathes:
    PREFIX: ${@PROJECT::@workdir}/DESTDIR
    ACLOCAL_PATH: ${pathes::PREFIX}/share/aclocal
    SRCROOT: ${@PROJECT::@workdir}/sources

# tell which actual packages for resolving `provides`
package-mapping:
    x11/font-util:        system/font-util
    x11/libxcb-util:      system/libxcb-util
    x11/libxcb-wm:        system/libxcb-wm
    x11/libxcvt:          3rdparty/libxcvt
    x11/libx11:           system/libx11
    x11/xcbproto:         3rdparty/xcbproto
    x11/xfree86-type1:    system/xfree86-type1
    x11/xkbcomp:          system/xkbcomp
    buildtool/c-compiler: os-installed/gcc

# per package configuration
package-config:
    xserver/xlibre-xserver:
        meson-args:
            - -Dxephyr=true
            - -Dxnest=true
            - -Dxvfb=true
            - -Dxorg=true
            - -Dglamor=true
            - -Dxselinux=true
            - -Dxf86bigfont=true

# what to build (can use packages or provides here)
build:
    - x11/xserver-sdk
    - xserver/xf86-input-libinput
    - xserver/xf86-input-joystick


# extra environment variables
env:
    PKG_CONFIG_PATH: ${pathes::PREFIX}/share/pkgconfig:${pathes::PREFIX}/lib/pkgconfig:${pathes::PREFIX}/lib/${@PROJECT::@machine}/pkgconfig/
    ACLOCAL_PATH: ${pathes::PREFIX}/share/aclocal

packages:
    - ${@PROJECT::@rootdir}/cf/xlibre/packages
